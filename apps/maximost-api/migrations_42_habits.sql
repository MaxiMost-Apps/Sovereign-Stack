-- Migration: Inject 42 Habits (Tactical/Kinetic/Cognitive)
-- overwrite on conflict

INSERT INTO library_habits (slug, title, theme, icon, category, type, target_value, unit, description, how_instruction, why_instruction) VALUES
('morning_sun', 'Morning Sun', 'bio_emerald', 'Sun', 'Kinetic', 'absolute', 15, 'minutes', 'Anchor your circadian clock with outdoor light.', 'THE ATOM: Photon Anchoring. THE STEP: View outdoor light within 30m of waking. No sunglasses.', 'Resets the central clock (SCN), triggers morning cortisol, and sets the sleep timer. [Panda]'),
('fasting', 'Intermittent Fasting', 'asset_lime', 'Timer', 'Kinetic', 'frequency', 16, 'hours', 'Trigger cellular repair and stabilize energy.', 'THE ATOM: Metabolic Switching. THE STEP: 16-hour fast. Water and black coffee only.', 'Triggers autophagy (cellular cleaning) and stabilizes insulin sensitivity. [Attia]'),
('sauna', 'Sauna / Heat', 'combat_red', 'Flame', 'Kinetic', 'frequency', 20, 'minutes', 'Use heat stress to protect the brain and heart.', 'THE ATOM: Hormetic Heat. THE STEP: Dry sauna at 174°F minimum. No mid-session water.', 'Activates Heat Shock Proteins (HSP) to prevent protein misfolding. [Patrick]'),
('cold_plunge', 'Cold Exposure', 'oxygen_cyan', 'Snowflake', 'Kinetic', 'frequency', 3, 'minutes', 'Control neurochemistry through thermal shock.', 'THE ATOM: Cold Shock. THE STEP: Neck-deep submersion in <50°F water. Minimize movement.', 'Triggers 250% dopamine increase and builds mental callousing. [Huberman]'),
('heavy_lifting', 'Heavy Lifting', 'slate_steel', 'Dumbbell', 'Kinetic', 'frequency', 1, 'session', 'Train the nervous system to generate force.', 'THE ATOM: Neural Drive. THE STEP: Compound movements (Squat/Press). 3-5 Reps, 3-5 Sets.', 'Muscular strength is the primary predictor of healthspan and skeletal integrity. [Galpin]'),
('ready_state', 'Ready State', 'bio_emerald', 'RefreshCw', 'Kinetic', 'absolute', 10, 'minutes', 'Maintain mechanical range of motion.', 'THE ATOM: Tissue Maintenance. THE STEP: Couch stretch and deep squat hold.', 'Offset the hip flexion contractures caused by 21st-century sitting. [Starrett]'),
('nasal_breathing', 'Nasal Breathing', 'oxygen_cyan', 'Wind', 'Kinetic', 'absolute', 1, 'compliance', 'Improve oxygen delivery via the Bohr Effect.', 'THE ATOM: Carbon Tolerance. THE STEP: Breathe only through nose during exercise and sleep.', 'Increases CO2 tolerance, signaling hemoglobin to release oxygen to tissues. [McKeown]'),
('protein_loading', 'Protein Loading', 'asset_lime', 'Dna', 'Kinetic', 'absolute', 30, 'grams', 'Trigger muscle synthesis and morning energy.', 'THE ATOM: Leucine Trigger. THE STEP: 30g+ protein in the first meal.', 'Required threshold to initiate Muscle Protein Synthesis. [Layman]'),
('sleep_hygiene', 'Sleep Hygiene', 'bio_rig', 'Moon', 'Kinetic', 'frequency', 8, 'hours', 'Prioritize the brain''s cleaning cycle.', 'THE ATOM: Glymphatic Clearance. THE STEP: Cool room (65°F). Total darkness.', 'Clears amyloid beta waste (neurotoxins) from the brain. [Walker]'),
('vo2_max', 'VO2 Max Training', 'telemetry', 'Activity', 'Kinetic', 'frequency', 1, 'session', 'Expand the ceiling of aerobic capacity.', 'THE ATOM: Aerobic Power. THE STEP: 4 mins Max Effort, 4 mins Rest. Repeat 4x.', 'Cardiorespiratory fitness is the strongest correlate to lifespan. [Attia]'),
('no_sugar', 'Glycemic Defense', 'combat_red', 'Lock', 'Kinetic', 'absolute', 1, 'day', 'Protect energy from insulin spikes.', 'THE ATOM: Metabolic Shield. THE STEP: Zero refined sugar or liquid calories for 24h.', 'Reduces systemic inflammation and energy crashes. [Lustig]'),
('fasted_walk', 'Fasted Walk', 'bio_rig', 'Activity', 'Kinetic', 'absolute', 20, 'minutes', 'Mobilize fatty acids immediately upon waking.', 'THE ATOM: Lipolysis. THE STEP: 20m walk before first calorie. Low intensity.', 'Increases fat burning during low-intensity movement. [Horowitz]'),
('thermoregulation', 'Cold Bedroom', 'bio_rig', 'Thermometer', 'Kinetic', 'boolean', 1, 'check', 'Trigger the core temp drop for deep sleep.', 'THE ATOM: Core Temp Drop. THE STEP: Bedroom at 65°F (18°C) one hour before sleep.', 'Biological trigger for sleep onset and quality maintenance. [Walker]'),
('touch_grass', 'Touch Grass', 'bio_emerald', 'Trees', 'Kinetic', 'absolute', 15, 'minutes', 'Lower stress via environmental fractals.', 'THE ATOM: Panoramic Vision. THE STEP: 15m outside. Look at the horizon. No phone.', 'Viewing natural fractals reduces rumination and lowers blood pressure. [Bratman]'),
('creatine_load', 'Brain Fuel', 'asset_lime', 'Zap', 'Kinetic', 'metric', 5, 'grams', 'Enhance anaerobic power and cognition.', 'THE ATOM: ATP Reservoir. THE STEP: 5g Monohydrate daily. Anytime.', 'Improves anaerobic power and cognition. [Attia]'),
('sleep_cocktail', 'Sleep Stack', 'neural_violet', 'Moon', 'Kinetic', 'boolean', 1, 'compliance', 'Chemical assistance for sleep onset.', 'THE ATOM: Neuro-Downreg. THE STEP: Mg Threonate + Theanine 60m pre-bed.', 'Reduce sleep latency. [Huberman]'),
('delayed_caffeine', 'Delayed Caffeine', 'bio_rig', 'Coffee', 'Kinetic', 'absolute', 90, 'minutes', 'Wait 90 mins after waking to prevent the afternoon crash.', 'THE ATOM: Adenosine Clearance. THE STEP: No caffeine for first 90m of day.', 'Allows natural adenosine clearance to prevent afternoon crash. [Huberman]'),
('no_sugary_drinks', 'No Sugary Drinks', 'combat_red', 'Droplet', 'Kinetic', 'absolute', 1, 'day', 'Zero liquid calories—pure performance.', 'THE ATOM: Insulin Control. THE STEP: Water, black coffee, or tea only.', 'Liquid sugar is the fastest path to metabolic dysfunction. [Lustig]'),
('grounding', 'Grounding', 'bio_emerald', 'Anchor', 'Kinetic', 'absolute', 10, 'minutes', '10 mins of direct earth contact for inflammation/recovery.', 'THE ATOM: Electron Exchange. THE STEP: Bare feet on grass or dirt.', 'Reduces blood viscosity and inflammation. [Ober]'),
('vitamin_d3_k2', 'Vitamin D3/K2', 'asset_lime', 'Sun', 'Kinetic', 'absolute', 1, 'dose', 'The fundamental hormonal baseline.', 'THE ATOM: Hormonal Foundation. THE STEP: Take with fat-containing meal.', 'Regulates over 1,000 genes and immune function. [Rhonda Patrick]'),
('make_bed', 'Make Bed', 'slate_steel', 'Shield', 'Tactical', 'absolute', 1, 'mission', 'Secure your first victory immediately.', 'THE ATOM: Discipline Baseline. THE STEP: Precision bed-make upon waking.', 'Small victories establish the standard of excellence for the day. [Jocko]'),
('memento_mori', 'Remember Death', 'ghost_white', 'Lock', 'Tactical', 'absolute', 1, 'session', 'Clarify priorities by remembering finitude.', 'THE ATOM: Perspective Strike. THE STEP: Reflect for 2m: ''This could be my last day.''', 'Kills procrastination instantly. Realizing time is limited is the High Ground. [Seneca]'),
('grip_strength', 'Dead Hang', 'telemetry', 'Anchor', 'Tactical', 'absolute', 120, 'seconds', 'Test systemic strength and decompress spine.', 'THE ATOM: Force Output. THE STEP: Hang from a bar. Active shoulders. Total of 120s.', 'Grip strength is the #1 physical biomarker of all-cause mortality. [Bohannon]'),
('box_breathing', 'Box Breathing', 'oxygen_cyan', 'Wind', 'Tactical', 'absolute', 5, 'minutes', 'Tactical autonomic nervous system regulation.', 'THE ATOM: Vagus Nerve Stim. THE STEP: Inhale 4s, Hold 4s, Exhale 4s, Hold 4s.', 'Instantly lowers heart rate and restores cognitive control. [McKeown]'),
('digital_air_gap', 'Digital Air Gap', 'black_box', 'Lock', 'Tactical', 'absolute', 60, 'minutes', 'Sever the connection to the digital hive mind.', 'THE ATOM: Dopamine Reset. THE STEP: Phone in a separate room for 1 hour of deep work.', 'Constant notifications downregulate dopamine receptors. [Lembke]'),
('taking_souls', 'Taking Souls', 'combat_red', 'Flame', 'Tactical', 'boolean', 1, 'mission', 'Enter the room of suffering. Do not leave until you''ve taken a soul.', 'THE ATOM: Mental Callousing. THE STEP: Train until the mind wants to quit.', 'Trains the brain to override the ''Safety Governor''. [Goggins]'),
('cookie_jar', 'Cookie Jar', 'warning_amber', 'Trophy', 'Tactical', 'boolean', 1, 'reflection', 'Fuel for the current struggle.', 'THE ATOM: Suffering Audit. THE STEP: Recall a moment of suffering you overcame.', 'Reminds you of your capacity to endure. [Goggins]'),
('forty_percent', '40% Override', 'combat_red', 'Zap', 'Tactical', 'boolean', 1, 'push', 'Push past the perceived limit.', 'THE ATOM: Governor Bypass. THE STEP: Push for 5 more when mind says ''done''.', 'The mind quits before the body. [Goggins]'),
('dichotomy_control', 'Control Audit', 'ghost_white', 'Shield', 'Tactical', 'boolean', 1, 'logic', 'Focus only on what you can control.', 'THE ATOM: Focus Strike. THE STEP: Discard worries outside your control.', 'Zero energy leak on externals. [Epictetus]'),
('amor_fati', 'Amor Fati', 'ghost_white', 'RefreshCw', 'Tactical', 'boolean', 1, 'acceptance', 'Love of fate.', 'THE ATOM: Love of Fate. THE STEP: Embrace a current obstacle as fuel.', 'The hindrance is the path. [Aurelius]'),
('carbon_tolerance', 'Breath Check', 'oxygen_cyan', 'Wind', 'Tactical', 'metric', 60, 'seconds', 'Measure CO2 tolerance.', 'THE ATOM: Exhale Timer. THE STEP: Measure duration of a single exhale.', 'Proxy for stress resilience. [Mackenzie]'),
('accountability_mirror', 'Truth Mirror', 'ghost_white', 'Eye', 'Tactical', 'boolean', 1, 'audit', 'Face your insecurities.', 'THE ATOM: Radical Truth. THE STEP: Face the mirror. State your insecurities.', 'Strip the ego to build mental callous. [Goggins]'),
('good_deed', 'Secret Good Deed', 'neural_violet', 'Heart', 'Tactical', 'absolute', 1, 'act', 'Build virtue by helping others in secret.', 'THE ATOM: Character Forge. THE STEP: One helpful act. They must never know it was you.', 'Removes the dopamine hit of praise to build intrinsic integrity. [Aurelius]'),
('deep_work', 'Deep Work Block', 'neural_violet', 'Zap', 'Cognitive', 'frequency', 90, 'minutes', 'Compound cognitive returns via intense focus.', 'THE ATOM: Cognitive Isolation. THE STEP: No phone. No internet. Single-task focus.', 'High-quality work produced = (Time Spent) x (Intensity of Focus). [Newport]'),
('shadow_audit', 'Shadow Audit', 'warning_amber', 'PenTool', 'Cognitive', 'absolute', 1, 'audit', 'Nightly review of today''s drift and deception.', 'THE ATOM: Radical Honesty. THE STEP: 5m review of failures and lies told today. Zero excuses.', 'You cannot fix what you refuse to look at. Data truth is the only path to growth.'),
('prayer_stillness', 'Prayer / Stillness', 'ghost_white', 'Heart', 'Cognitive', 'absolute', 10, 'minutes', 'Center your mind and align values.', 'THE ATOM: Narrative Control. THE STEP: 10m of prayer or meditation for others.', 'Interrupts the selfish ego and resets Internal Force for service. [Aurelius]'),
('digital_sunset', 'Digital Sunset', 'sunset_indigo', 'Moon', 'Cognitive', 'absolute', 1, 'sunset', 'Protect recovery chemicals from blue light.', 'THE ATOM: Melatonin Protection. THE STEP: Screens off 60m before bed.', 'Ensures deep REM and hormonal reset. One hour of darkness is armor. [Walker]'),
('social_sync', 'Social Sync', 'maxi_blue', 'Users', 'Cognitive', 'absolute', 1, 'call', 'Maintain social infrastructure.', 'THE ATOM: Tribe Connection. THE STEP: Connect with one person for 10+ mins.', 'Social isolation is a primary biological stressor. [Conti]'),
('new_skill', 'Skill Acquisition', 'neural_violet', 'BookOpen', 'Cognitive', 'frequency', 30, 'minutes', 'Expand specific knowledge and leverage.', 'THE ATOM: Neural Plasticity. THE STEP: 30m focused practice on a high-leverage skill.', 'Focus + Novelty = Growth. The mind is for training, not just storage. [Huberman]'),
('daily_shutdown', 'Daily Shutdown', 'sunset_indigo', 'RotateCcw', 'Cognitive', 'absolute', 1, 'ritual', 'Close all open cognitive loops before disconnecting.', 'THE ATOM: Cognitive Closure. THE STEP: Review tomorrow''s Big 3. Say ''Shutdown Complete''.', 'Clears attention residue and protects the evening window. [Newport]'),
('inbox_zero', 'Inbox Zero', 'slate_steel', 'Mail', 'Cognitive', 'absolute', 1, 'process', 'Clear the mental static of digital business.', 'THE ATOM: Open Loop Closure. THE STEP: Process inbox until empty. Archive or Task.', 'Unfinished tasks in your inbox act as a leak in your cognitive armor. [Ferriss]'),
('agency_audit', 'Agency Audit', 'nav_computer', 'Brain', 'Cognitive', 'boolean', 1, 'entry', 'Map the internal terrain of the mind.', 'THE ATOM: Narrative Control. THE STEP: Journal to identify ''Defense'' vs ''Generative'' drive.', 'Identifying internal ''spies'' allows you to regain agency over your life. [Conti]'),
('leverage_audit', 'Leverage Audit', 'kinetic_core', 'TrendingUp', 'Cognitive', 'boolean', 1, 'review', 'Ensure effort is multiplied by leverage.', 'THE ATOM: Input/Output Disconnection. THE STEP: Audit tasks: Code, Media, or Capital?', 'Wealth is the product of Leverage x Judgment. Stop trading time for money. [Ravikant]'),
('recovery_sync', 'Recovery Sync', 'maxi_blue', 'Sun', 'Cognitive', 'boolean', 1, 'meeting', 'Honor the personal mission.', 'THE ATOM: Sovereign Spirit. THE STEP: Attend meeting or Service. No isolation.', 'Isolation is drift. [Founder]'),
('nsdr_reset', 'Neural Reboot', 'neural_violet', 'Zap', 'Cognitive', 'duration', 20, 'minutes', 'Cognitive recovery without sleep.', 'THE ATOM: Dopamine Reset. THE STEP: 10-20 min audio guide (Yoga Nidra).', 'Cognitive recovery without sleep. [Huberman]')
ON CONFLICT (slug) DO UPDATE SET
    title = EXCLUDED.title,
    theme = EXCLUDED.theme,
    icon = EXCLUDED.icon,
    category = EXCLUDED.category,
    type = EXCLUDED.type,
    target_value = EXCLUDED.target_value,
    unit = EXCLUDED.unit,
    description = EXCLUDED.description,
    how_instruction = EXCLUDED.how_instruction,
    why_instruction = EXCLUDED.why_instruction;
